{"ast":null,"code":"import _defineProperty from\"C:/Users/KyAlO/Documents/WEBS/E-commerce/Shopping/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/KyAlO/Documents/WEBS/E-commerce/Shopping/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/KyAlO/Documents/WEBS/E-commerce/Shopping/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState}from\"react\";import all_products from\"../components/assets/all_product\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var getDefaultCart=function getDefaultCart(){var cart={};for(var index=0;index<all_products.length+1;index++){cart[index]=0;}return cart;};var ShopContextProvider=function ShopContextProvider(props){var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var getTotalCartAmount=function getTotalCartAmount(){var totalAmount=0;var _loop=function _loop(item){if(cartItems[item]>0){var itemInfo=all_products.find(function(product){return product.id===Number(item);});totalAmount+=itemInfo.new_price*cartItems[item];}};for(var item in cartItems){_loop(item);}return totalAmount;};var getTotalCartItems=function getTotalCartItems(){var totalItem=0;for(var item in cartItems){if(cartItems[item]>0){totalItem+=cartItems[item];}}return totalItem;};var contextValue={all_products:all_products,cartItems:cartItems,addToCart:addToCart,removeFromCart:removeFromCart,getTotalCartAmount:getTotalCartAmount,getTotalCartItems:getTotalCartItems};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};export default ShopContextProvider;","map":{"version":3,"names":["React","createContext","useState","all_products","jsx","_jsx","ShopContext","getDefaultCart","cart","index","length","ShopContextProvider","props","_useState","_useState2","_slicedToArray","cartItems","setCartItems","addToCart","itemId","prev","_objectSpread","_defineProperty","removeFromCart","getTotalCartAmount","totalAmount","_loop","item","itemInfo","find","product","id","Number","new_price","getTotalCartItems","totalItem","contextValue","Provider","value","children"],"sources":["C:/Users/KyAlO/Documents/WEBS/E-commerce/Shopping/src/context/ShopContext.jsx"],"sourcesContent":["import React, { createContext, useState } from \"react\";\r\nimport all_products from \"../components/assets/all_product\";\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = () => {\r\n  let cart = {};\r\n  for (let index = 0; index < all_products.length + 1; index++) {\r\n    cart[index] = 0;\r\n  }\r\n  return cart;\r\n};\r\n\r\nconst ShopContextProvider = (props) => {\r\n  const [cartItems, setCartItems] = useState(getDefaultCart());\r\n\r\n  const addToCart = (itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\r\n  };\r\n\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\r\n  };\r\n\r\n  const getTotalCartAmount = () => {\r\n    let totalAmount = 0;\r\n    for (const item in cartItems) {\r\n      if (cartItems[item] > 0) {\r\n        let itemInfo = all_products.find(\r\n          (product) => product.id === Number(item)\r\n        );\r\n        totalAmount += itemInfo.new_price * cartItems[item];\r\n      }\r\n    }\r\n    return totalAmount;\r\n  };\r\n\r\n  const getTotalCartItems = () => {\r\n    let totalItem = 0;\r\n    for (const item in cartItems) {\r\n      if (cartItems[item] > 0) {\r\n        totalItem += cartItems[item];\r\n      }\r\n    }\r\n    return totalItem;\r\n  };\r\n\r\n  const contextValue = {\r\n    all_products,\r\n    cartItems,\r\n    addToCart,\r\n    removeFromCart,\r\n    getTotalCartAmount,\r\n    getTotalCartItems,\r\n  };\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </ShopContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ShopContextProvider;\r\n"],"mappings":"sZAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,QAAQ,KAAQ,OAAO,CACtD,MAAO,CAAAC,YAAY,KAAM,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,MAAO,IAAM,CAAAC,WAAW,cAAGL,aAAa,CAAC,IAAI,CAAC,CAE9C,GAAM,CAAAM,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGN,YAAY,CAACO,MAAM,CAAG,CAAC,CAAED,KAAK,EAAE,CAAE,CAC5DD,IAAI,CAACC,KAAK,CAAC,CAAG,CAAC,CACjB,CACA,MAAO,CAAAD,IAAI,CACb,CAAC,CAED,GAAM,CAAAG,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAIC,KAAK,CAAK,CACrC,IAAAC,SAAA,CAAkCX,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAAAO,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArDG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIC,MAAM,CAAK,CAC5BF,YAAY,CAAC,SAACG,IAAI,SAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,KAAAE,eAAA,IAAGH,MAAM,CAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAC,IAAG,CAAC,CACnE,CAAC,CAED,GAAM,CAAAI,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIJ,MAAM,CAAK,CACjCF,YAAY,CAAC,SAACG,IAAI,SAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,KAAAE,eAAA,IAAGH,MAAM,CAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAC,IAAG,CAAC,CACnE,CAAC,CAED,GAAM,CAAAK,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/B,GAAI,CAAAC,WAAW,CAAG,CAAC,CAAC,IAAAC,KAAA,UAAAA,MAAAC,IAAA,CACU,CAC5B,GAAIX,SAAS,CAACW,IAAI,CAAC,CAAG,CAAC,CAAE,CACvB,GAAI,CAAAC,QAAQ,CAAGzB,YAAY,CAAC0B,IAAI,CAC9B,SAACC,OAAO,QAAK,CAAAA,OAAO,CAACC,EAAE,GAAKC,MAAM,CAACL,IAAI,CAAC,EAC1C,CAAC,CACDF,WAAW,EAAIG,QAAQ,CAACK,SAAS,CAAGjB,SAAS,CAACW,IAAI,CAAC,CACrD,CACF,CAAC,CAPD,IAAK,GAAM,CAAAA,IAAI,GAAI,CAAAX,SAAS,EAAAU,KAAA,CAAAC,IAAA,GAQ5B,MAAO,CAAAF,WAAW,CACpB,CAAC,CAED,GAAM,CAAAS,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9B,GAAI,CAAAC,SAAS,CAAG,CAAC,CACjB,IAAK,GAAM,CAAAR,IAAI,GAAI,CAAAX,SAAS,CAAE,CAC5B,GAAIA,SAAS,CAACW,IAAI,CAAC,CAAG,CAAC,CAAE,CACvBQ,SAAS,EAAInB,SAAS,CAACW,IAAI,CAAC,CAC9B,CACF,CACA,MAAO,CAAAQ,SAAS,CAClB,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,CACnBjC,YAAY,CAAZA,YAAY,CACZa,SAAS,CAATA,SAAS,CACTE,SAAS,CAATA,SAAS,CACTK,cAAc,CAAdA,cAAc,CACdC,kBAAkB,CAAlBA,kBAAkB,CAClBU,iBAAiB,CAAjBA,iBACF,CAAC,CAED,mBACE7B,IAAA,CAACC,WAAW,CAAC+B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CACvC3B,KAAK,CAAC2B,QAAQ,CACK,CAAC,CAE3B,CAAC,CAED,cAAe,CAAA5B,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}